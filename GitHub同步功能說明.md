# GitHub自動同步功能說明

## 功能概述
GitHub自動同步功能允許您通過上傳JSON檔案到GitHub來自動更新網頁上的自定義術語對照表，無需手動設定或操作。

## 主要特點
- ✅ 完全自動化，無需手動設定
- ✅ 每5分鐘自動檢查更新
- ✅ 不影響現有預設項目
- ✅ 靜默同步，無需用戶干預
- ✅ 安全的JSON格式驗證

## 使用步驟

### 1. 準備GitHub JSON檔案
您的JSON檔案必須包含以下格式：

```json
{
  "customMappings": {
    "原始術語1": "轉換後縮寫1",
    "原始術語2": "轉換後縮寫2",
    "Blood gas analysis_動脈血氣體分析": "ABG",
    "Complete blood count_全血球計數": "CBC"
  },
  "exportDate": "2025-01-27T10:30:00.000Z",
  "version": "1.0",
  "description": "自定義醫療術語對照表",
  "author": "您的姓名"
}
```

**重要：** 必須包含 `customMappings` 欄位，這是系統識別的關鍵欄位。

### 2. 上傳到GitHub
1. 將JSON檔案上傳到您的GitHub儲存庫
2. 確保檔案名稱為：`custom_mappings.json`
3. 確保儲存庫是公開的（Public）

### 3. 系統自動同步
- 系統會在頁面載入時自動開始同步
- 每5分鐘自動檢查一次更新
- 無需任何手動操作

## 預設GitHub URL
系統會自動從以下URL同步：
```
https://raw.githubusercontent.com/CorrineXie/medical-terms/main/custom_mappings.json
```

## 同步機制

### 合併策略
- 新的自定義項目會與現有項目合併
- 不會覆蓋或刪除現有的自定義項目
- 不會影響系統預設項目
- 重複的項目會以新版本為準

### 安全驗證
- 驗證JSON檔案格式
- 檢查必要欄位存在
- 網路連接狀態檢查
- 靜默錯誤處理

## 技術規格

### 支援的URL格式
- HTTPS協議
- GitHub Raw檔案URL
- 公開可訪問的檔案

### 同步間隔
- 自動同步：5分鐘
- 頁面載入時立即執行一次

### 檔案大小限制
- 建議JSON檔案小於1MB
- 支援數千條對照規則

## 故障排除

### 常見問題
1. **檔案不存在**
   - 確保檔案名稱為 `custom_mappings.json`
   - 確保儲存庫是公開的

2. **JSON格式錯誤**
   - 確保包含 `customMappings` 欄位
   - 檢查JSON語法是否正確

3. **同步失敗**
   - 查看瀏覽器控制台錯誤訊息
   - 檢查網路連接

### 錯誤訊息說明
- `HTTP 404`：檔案不存在
- `HTTP 403`：檔案無法公開訪問
- `JSON格式不正確`：缺少必要欄位或語法錯誤
- `網路錯誤`：連接問題或GitHub服務異常

## 最佳實踐

### 檔案管理
- 使用版本控制管理JSON檔案
- 定期備份自定義對照表
- 使用描述性的檔案名稱

### 內容管理
- 保持術語對照的一致性
- 定期清理過時的對照規則
- 記錄重要的更新內容

## 更新日誌
- **V1.2.1**：簡化為自動GitHub同步
- 移除手動設定界面
- 完全自動化同步流程
- 靜默錯誤處理 